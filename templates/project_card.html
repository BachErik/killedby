{{ define "project_card" }}
<div class="card" style="background-color: {{ if isFutureDate .Project.DateClose }}#293033{{ else }}#1e1e1e{{ end }};">
    <a href="/project/{{ .Project.Company }}/{{ .Project.Name }}" class="card-link">
        <div class="card-logo-container">
            <img class="card-logo" src="{{ index .Companies .Project.Company }}" alt="{{ .Project.Company }} logo">
        </div>
        <h3>{{ .Project.Name }}</h3>
        <p class="description">{{ .Project.Description }}</p>
        <div class="tags">
            <span class="tag" style="background-color: #444;">{{ .Project.DateOpen }} - {{ .Project.DateClose }}</span>
            <span class="tag" style="background-color: {{ index .Types .Project.Type }}; color: #f0f0f0;">{{ .Project.Type }}</span>
        </div>
    </a>
</div>
<style>
    .card-logo-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100px;
    }
    .card-logo {
        max-width: 100%;
        max-height: 100%;
        height: auto;
        width: auto;
        object-fit: contain;
    }
    .description {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        line-clamp: 3;
        overflow: hidden;
        text-overflow: ellipsis;
        max-height: 4.5em;
        line-height: 1.5em;
    }
    .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
    }
    .tag {
        display: inline-flex;
        background-color: #333;
        border-radius: 20px;
        padding: 5px 15px;
        color: #e0e0e0;
        font-size: 0.85em;
        margin: 2px;
        white-space: nowrap;
    }
</style>
{{ end }}
